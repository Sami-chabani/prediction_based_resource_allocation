Following is the source code for the article "Prediction-based Resource Allocation using LSTM and maximum ï¬‚ow and minimum cost algorithm" by Gyunam Park and [Minseok Song](http://mssong.postech.ac.kr) presented at the [1st International Conference on Process Mining](https://icpmconference.org) and submitted to the *information systems* (special issue).

The code provided in this repository can be readily used to optimize resource scheduling in non-clairvoyant online job shop environment

### Remark: 
You can find the original code without changes and integration for the new data set on https://github.com/gyunamister/PyProM.git 

### Requirements:

- This code is written in Python3.6. In addition, you need to install a few more packages.

  - networkx
  - numpy
  - pandas
  - keras
  - tensorflow
  - PyProM from another repo

- To install,

  ```
  $ cd prediction_based_resource_allocation
  $ pip install -r requirements.txt
  $ cd ..
  $ git clone git@github.com:Sami-chabani/prediction_based_resource_allocation.git
  ```



### Implementation:

- **Evaluation**
  - On artificial log,
    - For experiments shown in Fig.6 and Fig.7 :  Type `$ sh exp_1.sh` to optimize resource allocation with the proposed method and `$ sh exp_1-baseline.sh` to optimize resource allocation with the baseline approach.

  - On real-life log,
    - For experiments shown in Fig. 8: Type `$ sh exp_3.sh` to optimize resource allocation with the proposed method and `$ sh exp_3-baseline.sh` to optimize resource allocation with the baseline approach. Furthermore, for experiments shown in Fig. 9, just uncomment line 665 in "./optimizer/suggested.py"

  - On new log, 
    - For experiments shown in Fig. 10 : Type 'sh new_exp.sh' to optimize resource allocation with the proposed method on new event log.
- **Brief Explanation**
  - The logs are listed in "./sample_data". The artificial log is generated by simulating a business process in an emergency department. Detailed implementation for the simulation is in data/log_generator.py. The new event log is in sample_data/real.
  - Phase 1 of our method (*prediction model construction*) is implemented in "prediction/model.py". Configuration is set on "prediction/config.py" and on "prediction/new_config.py" for the new data. The training is done by `python train.py`. The resulting prediction model is saved in a directory "./prediction/checkpoints".
  - Phase 2 of our method (prediction model construction) is implemented in optimizer/suggested.py, while the baseline method is implemented in optimizer/baseline.py
  - The code for the figures used in my paper can be found in "./figures_code.ipynb"

